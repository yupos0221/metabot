<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>VR</title>
  <meta name="descrip viewtion" content="VR view">
  <!-- NG
  <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
   -->
  <!-- OK
  <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
  // 0.6.1, 0.7.0, 0.7.1 OK (0.7.2, 0.7.5 NO exist)
  -->
  <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
  <script type="text/javascript" src="https://cdn.webrtc.ecl.ntt.com/skyway-latest.js"></script>
  <script src="./client.js"></script>
  <script src="./vr_view.js"></script>
  
</head>

<body>
  <div id="wait_massage">Please wait for loading ...</div>
  <a-scene>
    <a-assets>
      <video id="video1" autoplay loop crossorigin="anonymous" playsinline webkit-playsinline></video>
      <!-- <a-entity id="ctlL" laser-controls="hand: left" raycaster="objects: .collidable; far: 5" vr-controller></a-entity>
      <a-entity id="ctlR" laser-controls="hand: right" raycaster="objects: .collidable; far: 5" vr-controller></a-entity> -->
      <!-- <a-entity id="ctlL" oculus-touch-controls="hand: left" ></a-entity>
      <a-entity id="ctlR" oculus-touch-controls="hand: right"></a-entity> -->
    </a-assets>
    <a-videosphere src="#video1" rotation="0 180 0" geometry="thetaLength: 180"

      play-on-window-click
    >
    </a-videosphere>
    <!-- <a-entity geometry="primitive: sphere; theta-start: 10; thetaLength: 150; phi-length: 270; radius: 0.5; segmentsWidth: 64; segmentsHeight: 64" scale="1 1 -1" material="src: #video1; shader: flat" play-on-window-click>
    </a-entity> -->

    <a-entity id="ctlL" oculus-touch-controls="hand: left"></a-entity>
    <a-entity id="ctlR" oculus-touch-controls="hand: right"></a-entity>

    <a-camera user-height="0" wasd-controls-enabled="false" arrow-key-rotation>
      <!-- <a-cursor></a-cursor> -->
      <!-- Text element for display messaging.  Hide once video is playing. -->
      <a-entity id="msg" position="0 -0.3 -1.5" text="align:center; 
              width:3;
              wrapCount:100;
              color: #FF8080;
              value:Please click window to start 360 video streaming."
              hide-once-playing="#video1">
      </a-entity>
      <a-text id="txt" value="" position="0 0 -1" scale="0.4 0.4 0.4" align="center" color="black"></a-text>
      <a-text id="txt2" value="" position="0 -0.15 -1" scale="0.4 0.4 0.4" align="center" color="black"></a-text>
      <a-text id="txt3" value="head test" position="0 -0.30 -1" scale="0.4 0.4 0.4" align="center" color="white"></a-text>
      <a-text id="txt4" value="" position="0 -0.45 -1" scale="0.4 0.4 0.4" align="center" color="black"></a-text>
      <!-- <a-text id="my_text" value="***" position="0 -0.1 -2" scale="0.4 0.4 0.4" align="center" color="#ffffff"></a-text> -->
    </a-camera>
    <a-entity camera id="camera" look-controls position="0 1.6 0"></a-entity>
  </a-scene>
  <canvas width="100" height="100"></canvas>
</body>
<script type="text/javascript">
  //joinRoom();
</script>
<!-- <script src="./client_vr.js"></script> -->
<script src="./vr_controller.js"></script>
</html>
